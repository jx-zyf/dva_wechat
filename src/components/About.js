import React, { Component } from 'react';
import MainLayout from '../layout';
import { Modal } from 'antd';
import styles from './About.less';

class About extends Component {
    state = { 
        visible: false,
        show_qrcord: false
    }
    showModal = () => {
        this.setState({
            visible: true,
        });
    }
    handleCancel = (e) => {
        this.setState({
            visible: false,
        });
    }
    clickHandle = (e) => {
        let data_id = e.target.getAttribute('data-id');
        if (data_id === 'wechat' || data_id === 'qq') {
            data_id === 'wechat' ? this.setState({show_qrcord: true}) : this.setState({show_qrcord: false});
            this.showModal();
        } else if (data_id === 'github') {
            window.open('https://github.com/jx-zyf', '_blank');
        } else {
            window.open('https://weibo.com/linxun001', '_blank');
        }
    }
    render() {
        const { show_qrcord, visible } = this.state;
        return (
            <MainLayout defaultSelectedKeys={['2']}>
                作者：linxunzyf
                <div className={styles.contact}>
                    联系我：
                    <svg onClick={this.clickHandle} data-id="wechat" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32">
                        <g>
                            <title>微信</title>
                            <path data-id="wechat" d="M664.25 368.542c10.015 0 19.892 0.733 29.673 1.796-26.649-122.81-159.358-214.078-310.826-214.078-169.353 0-308.086 114.233-308.086 259.274 0 83.708 46.165 152.46 123.282 205.785l-30.809 91.73 107.689-53.455c38.558 7.537 69.46 15.309 107.924 15.309 9.663 0 19.231-0.471 28.753-1.226-6.025-20.366-9.522-41.723-9.522-63.862 0.001-133.181 115.58-241.271 261.922-241.271zM498.629 285.874c23.2 0 38.557 15.12 38.557 38.062 0 22.846-15.357 38.156-38.557 38.156-23.107 0-46.261-15.31-46.261-38.156 0-22.942 23.154-38.062 46.261-38.062zM283.015 362.091c-23.107 0-46.403-15.31-46.403-38.156 0-22.942 23.296-38.062 46.403-38.062 23.082 0 38.463 15.12 38.463 38.062 0 22.847-15.381 38.156-38.463 38.156zM945.447 606.151c0-121.888-123.258-221.237-261.684-221.237-146.578 0-262.015 99.349-262.015 221.237 0 122.065 115.437 221.201 262.015 221.201 30.666 0 61.617-7.609 92.426-15.263l84.514 45.787-23.179-76.171c61.856-45.929 107.925-106.803 107.925-175.554zM598.803 567.994c-15.332 0-30.809-15.097-30.809-30.502 0-15.191 15.475-30.477 30.809-30.477 23.296 0 38.558 15.286 38.558 30.477 0 15.405-15.263 30.502-38.558 30.502zM768.251 567.994c-15.213 0-30.595-15.097-30.595-30.502 0-15.191 15.381-30.477 30.595-30.477 23.107 0 38.558 15.286 38.558 30.477 0 15.405-15.451 30.502-38.558 30.502z"></path>
                        </g>
                    </svg>
                    <svg onClick={this.clickHandle} data-id="qq" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32">
                        <g>
                            <title>QQ</title>
                            <path data-id="qq" d="M512 0C229.228 0 0 229.228 0 512c0 282.745 229.228 512 512 512s512-229.255 512-512C1024 229.228 794.772 0 512 0z m226.856 637.063s-16.208 44.22-45.945 83.94c0 0 53.127 18.056 48.64 64.984 0 0 1.779 52.346-113.462 48.735 0 0-81.07-6.32-105.377-40.61h-21.424c-24.306 34.304-105.35 40.61-105.35 40.61-115.281 3.61-113.476-48.735-113.476-48.735-4.5-46.928 48.627-64.983 48.627-64.983-29.71-39.72-45.918-83.941-45.918-83.941-72.058 116.44-64.85-16.25-64.85-16.25 13.528-78.524 70.239-129.967 70.239-129.967-8.111-71.316 21.612-83.94 21.612-83.94C318.41 186.286 508.025 190.14 512 190.247c3.988-0.107 193.576-3.96 199.828 216.644 0 0 29.71 12.638 21.612 83.94 0 0 56.738 51.443 70.238 129.968 0 0.013 7.195 132.702-64.822 16.263z m0 0"></path>
                        </g>
                    </svg>
                    <svg onClick={this.clickHandle} data-id="github" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32">
                        <g>
                            <title>github</title>
                            <path data-id="github" d="M950.930286 512q0 143.433143-83.748571 257.974857t-216.283429 158.573714q-15.433143 2.852571-22.601143-4.022857t-7.168-17.115429l0-120.539429q0-55.442286-29.696-81.115429 32.548571-3.437714 58.587429-10.313143t53.686857-22.308571 46.299429-38.034286 30.281143-59.977143 11.702857-86.016q0-69.12-45.129143-117.686857 21.138286-52.004571-4.534857-116.589714-16.018286-5.12-46.299429 6.290286t-52.589714 25.161143l-21.723429 13.677714q-53.174857-14.848-109.714286-14.848t-109.714286 14.848q-9.142857-6.290286-24.283429-15.433143t-47.689143-22.016-49.152-7.68q-25.161143 64.585143-4.022857 116.589714-45.129143 48.566857-45.129143 117.686857 0 48.566857 11.702857 85.723429t29.988571 59.977143 46.006857 38.253714 53.686857 22.308571 58.587429 10.313143q-22.820571 20.553143-28.013714 58.88-11.995429 5.705143-25.746286 8.557714t-32.548571 2.852571-37.449143-12.288-31.744-35.693714q-10.825143-18.285714-27.721143-29.696t-28.306286-13.677714l-11.410286-1.682286q-11.995429 0-16.603429 2.56t-2.852571 6.582857 5.12 7.972571 7.460571 6.875429l4.022857 2.852571q12.580571 5.705143 24.868571 21.723429t17.993143 29.110857l5.705143 13.165714q7.460571 21.723429 25.161143 35.108571t38.253714 17.115429 39.716571 4.022857 31.744-1.974857l13.165714-2.267429q0 21.723429 0.292571 50.834286t0.292571 30.866286q0 10.313143-7.460571 17.115429t-22.820571 4.022857q-132.534857-44.032-216.283429-158.573714t-83.748571-257.974857q0-119.442286 58.88-220.306286t159.744-159.744 220.306286-58.88 220.306286 58.88 159.744 159.744 58.88 220.306286z" fill="#2c2c2c"></path>
                        </g>
                    </svg>
                    <svg onClick={this.clickHandle} data-id="weibo" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32">
                        <g>
                            <title>微博</title>
                            <path data-id="weibo" d="M742.793922 501.68098c-37.302581-7.258311-19.153222-27.39493-19.153222-27.39493s36.499285-60.337203-7.225565-104.204293c-54.219879-54.329373-185.940876 6.912433-185.940876 6.912433-50.319036 15.652492-36.95875-7.142677-29.847795-45.936215 0-45.705971-15.626909-123.060757-149.640112-77.370135C217.115388 299.625078 102.139773 460.573747 102.139773 460.573747 22.20114 567.524594 32.809755 650.183176 32.809755 650.183176 52.765249 832.662207 246.159888 882.754069 396.574642 894.610094c158.243047 12.447497 371.851053-54.689576 436.59359-192.612832C897.938398 563.844785 780.239765 509.168512 742.793922 501.68098zM408.302755 843.155189c-157.124574 7.358595-284.114826-71.620178-284.114826-176.73112 0-105.223506 126.990253-189.609429 284.114826-196.86774 157.182902-7.258311 284.428981 57.679677 284.428981 162.687266C692.731736 737.340211 565.484633 835.997162 408.302755 843.155189zM376.934327 538.863834c-157.983127 18.541285-139.747811 166.926824-139.747811 166.926824s-1.605567 46.986127 42.37818 70.918189c92.439342 50.205449 187.631378 19.805068 235.743142-42.459021C563.419602 671.956062 535.206026 520.451486 376.934327 538.863834zM337.080643 747.129158c-29.475312 3.464915-53.273321-13.582343-53.273321-38.33305 0-24.636097 21.131273-50.434669 50.635237-53.526077 33.889855-3.232624 55.968709 16.343223 55.968709 41.092907C390.411269 720.999035 366.49865 743.779877 337.080643 747.129158zM430.2363 667.574265c-10.005888 7.487531-22.278399 6.452969-27.554566-2.53166-5.504364-8.751315-3.440355-22.795169 6.652514-30.167067 11.697413-8.741082 23.882943-6.222725 29.15911 2.542916C443.798177 646.387733 440.013991 659.855466 430.2363 667.574265zM819.751664 437.432701c12.728906 0 23.566742-9.44307 25.3739-21.760606 0.230244-0.919952 0.344854-1.724271 0.344854-2.759857 19.296485-173.956937-142.187373-144.017044-142.187373-144.017044-14.335497 0-25.805736 11.627828-25.805736 26.130124 0 14.273075 11.470239 25.900903 25.805736 25.900903 116.009154-25.670659 90.406033 90.607624 90.406033 90.607624C793.688055 425.920506 805.356816 437.432701 819.751664 437.432701zM800.94125 133.803425c-55.855122-13.108552-113.255437-1.811252-129.340787 1.279133-1.233084 0.115634-2.409886 1.294482-3.555989 1.523703-0.545422 0.115634-0.889253 0.689708-0.889253 0.689708-15.885805 4.499477-27.469632 19.216667-27.469632 36.608779 0 20.726044 16.745383 37.772278 37.676088 37.772278 0 0 20.300348-2.730181 34.090423-8.135284 13.676487-5.519714 129.283482-4.110621 186.743148 92.590791 31.311123 70.571289 13.762445 117.800963 11.583826 125.389802 0 0-7.454786 18.340717-7.454786 36.391838 0 20.842701 16.744359 33.935903 37.502126 33.935903 17.375739 0 31.94148-2.373047 36.213783-31.807427l0.230244 0C1037.947152 253.990738 900.834354 157.172669 800.94125 133.803425z"></path>
                        </g>
                    </svg>
                </div>
                <Modal
                    title={show_qrcord ? '添加微信' : '添加QQ'}
                    visible={visible}
                    onCancel={this.handleCancel}
                    style={{ textAlign: 'center' }}
                    footer={show_qrcord ? <p style={{textAlign: 'center'}}>扫一扫加我微信</p> : <p style={{textAlign: 'center'}}>扫一扫加我QQ</p>}
                >
                    {show_qrcord &&
                        <img src="http://localhost:8080/qrcode.jpg" style={{ maxWidth: '99%', margin: 'auto' }} />
                    }
                    {!show_qrcord &&
                        <img src="http://localhost:8080/tim.jpg" style={{ maxWidth: '99%', margin: 'auto' }} />
                    }
                </Modal>
            </MainLayout>
        );
    }
}

export default About;